--[Create Gui]--
local library = loadstring(game:HttpGet(('https://raw.githubusercontent.com/AikaV3rm/UiLib/master/Lib.lua')))()
local w = library:CreateWindow("Mining Frenzy")
local b = w:CreateFolder("Auto Farm")
local e = w:CreateFolder("Extras")
local s = w:CreateFolder("Settings")
local c = w:CreateFolder("Credits")

--[Variables]--
local player = game.Players.LocalPlayer
local COREGUI = {}
local coregui = game.CoreGui:GetDescendants()
for i = 1, #coregui do 
    local v = coregui[i]
    if v.Name == "Window" and v.ClassName == "ImageLabel" then
        table.insert(COREGUI,v)
    end
end

local WORKSPACE = {}
local workspace = game.Workspace:GetDescendants()
for i = 1, #workspace do 
    local v = workspace[i]
    if v.Name == "DestructibleType" and v.ClassName == "StringValue" then
        table.insert(WORKSPACE,v)
    end
end

--[Buttons]--
b:Label("Auto Mine Only Gives You The Items If Someone Breaks The Block",{
    TextSize = 13;
    TextColor = Color3.fromRGB(255,255,255);
    BgColor = Color3.fromRGB(69,69,69);
}) 

b:Toggle("Auto Mine",function(bool)
    shared.toggle = bool
    AutoMine = bool
end)

b:Toggle("Auto Sell",function(bool)
    shared.toggle = bool
    AutoSell = bool
end)

--[Extras]--
e:Toggle("Anti Afk",function(bool)
    shared.toggle = bool
    AntiAfk = bool
end)

--[Settings]--
s:Bind("Hide Gui Hotkey",Enum.KeyCode.H,function()
    for i = 1, #COREGUI do 
        if COREGUI[i].Visible == true then
            COREGUI[i].Visible = false
        else
            COREGUI[i].Visible = true
        end
    end
end)

--[Credits]--
c:Button("Pojken#9816",function()
    setclipboard("Pojken#9816")
end)

--[Functions]--
while wait() do
    if AutoMine == true then
        local ores = game:GetService("Workspace").Mines.Home:GetChildren()
        for i,v in pairs(ores) do
            local position = v.pos.Value
            local hp = v.health.Value
            for i = 1, hp do
                if AutoMine == true then
                    game:GetService("ReplicatedStorage").comm.re:FireServer("mine", Vector3.new(position),"Home")
                    wait()
                end
            end
        end
    end

    if AutoSell == true then
        firetouchinterest(game:GetService("Workspace").Sells.Atlantis.Sell, game:GetService("Workspace").characters[player.Name].HumanoidRootPart, 0)
        firetouchinterest(game:GetService("Workspace").Sells.Atlantis.Sell, game:GetService("Workspace").characters[player.Name].HumanoidRootPart, 1)
    end

    if AntiAfk == true then
        local bb=game:service'VirtualUser'
        game:service'Players'.LocalPlayer.Idled:connect(function()
            bb:CaptureController()
            bb:ClickButton2(Vector2.new())
        end)
    end
end
