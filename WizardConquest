local dab

local function useSpells()
    game:GetService("ReplicatedStorage").Remotes.Ability:FireServer(CFrame.new(dab.PrimaryPart.CFrame.Position + Vector3.new(0,0,0)), "SpellM")
    game:GetService("ReplicatedStorage").Remotes.Ability:FireServer(CFrame.new(dab.PrimaryPart.CFrame.Position + Vector3.new(0,0,0)), "SpellQ")
    game:GetService("ReplicatedStorage").Remotes.Ability:FireServer(CFrame.new(dab.PrimaryPart.CFrame.Position + Vector3.new(0,0,0)), "SpellE")
end

local function lobby()
    game:GetService("ReplicatedStorage").Remotes.Start:FireServer()
    wait(2)
    local args = {
        [1] = map,
        [2] = difficulty,
        [3] = true 
    }
    game:GetService("ReplicatedStorage").Remotes.DungeonCreate:FireServer(unpack(args))
    wait(2)
    game:GetService("ReplicatedStorage").Remotes.DungeonStart:FireServer()
end

if game.PlaceId == 6447888702 then
    lobby()
elseif game.PlaceId == 6681409037 then
    game.Players.LocalPlayer.Character.Humanoid:MoveTo(Vector3.new(126, 54, -96))
    while wait() do
        if #game:GetService("Workspace").Junk.Mobs:GetChildren() > 0 then
            mobs = game:GetService("Workspace").Junk.Mobs:GetChildren()
            for i,v in pairs(mobs) do
                wait()
                if v ~= nil then
                    dab = v
                    useSpells()
                end
            end
        end
    end
elseif game.PlaceId == 6491737703 then
    while wait() do
        if #game:GetService("Workspace").Junk.Mobs:GetChildren() > 0 then
            mobs = game:GetService("Workspace").Junk.Mobs:GetChildren()
            for i,v in pairs(mobs) do
                wait()
                if v ~= nil then
                    dab = v
                    useSpells()
                end
            end
        end
    end
end
